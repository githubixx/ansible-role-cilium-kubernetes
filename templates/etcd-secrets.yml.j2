---
apiVersion: v1
kind: Secret
metadata:
  name: {{ cilium_etcd_secrets_name }}
  namespace: {{ cilium_namespace }}
type: Opaque
data:
  etcd-client-ca.crt: {{ lookup('file', cilium_etcd_cert_directory + '/' + cilium_etcd_cafile, rstrip=False) | b64encode }}
  etcd-client.key: {{ lookup('file', cilium_etcd_cert_directory + '/' + cilium_etcd_keyfile, rstrip=False) | b64encode }}
  etcd-client.crt: {{ lookup('file', cilium_etcd_cert_directory + '/' + cilium_etcd_certfile, rstrip=False) | b64encode }}
